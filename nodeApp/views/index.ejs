<!DOCTYPE html>
<html>
  <head>
    <title>Top Gifs</title>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/css/bootstrap.min.css" integrity="sha384-Smlep5jCw/wG7hdkwQ/Z5nLIefveQRIY9nfy6xoR1uRYBtpZgI6339F5dgvm/e9B" crossorigin="anonymous">
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link href="https://fonts.googleapis.com/css?family=Luckiest+Guy" rel="stylesheet">
    



  </head>
  <body>
  	<!--<div class="loader" id="refresh"></div>-->
  	<nav class="navbar navbar-expand-lg mynavbar" data-toggle="sticky-onscroll" style="left: 0px; right: 0px; background-color: cadetblue; color: white">
          
        <a class="navbar-brand textnavColor titulo">TOP 10 GIFS</a>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
            <ul class="navbar-nav">
              <li class="nav-item active">
                <strong> Aquí podrá observar los 10 gifs mas vistos del día </strong>
              </li>
            </ul>
            <ul class="navbar-nav ml-md-auto">
                <li class="nav-item dropdown">
                    <a title="Con esta opción se vacía la cache y se actualizan los números de vistas de los gifs" class="nav-link textnavColor" onclick="refrescar()" id="navbarDropdownMenuLink" style="padding-right: 15px"><i class="fas fa-sync" aria-hidden="true"></i> Refrescar </a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div class="row" style="padding-top: 35px">
    	<div class="col-1 col1"></div>
    	<% for(var i=0; i<5; i++) {%>
    	<div class="col-2 padding-gifs">
    		<img src= "<%= data[i].link %>" width="210" height="200" >
    		<div>vistas: <%= data[i].num_acceso %></div>
    		<div><small>descripcion: <%= data[i].descripcion %></small></div>
    	</div>
    	<%};%>
    	<div class="col-1 col1"></div>
    	<div class="col-1 col1"></div>
    	<% for(var j=5; j<10; j++) {%>
    	<div class="col-2 padding-gifs">
    		<img src= "<%= data[j].link %>" width="210" height="200" >
    		<div>vistas: <%= data[j].num_acceso %></div>
    		<div><small>descripcion: <%= data[j].descripcion %></small></div>
    	</div>
    	<%};%>
    	<div class="col-1 col1"></div>
    </div>
    <div class="modal" id="exampleModal" tabindex="-1" role="dialog">
	  <div class="modal-dialog" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title">Actualizando</h5>
	      </div>
	      <div class="modal-body">
	      	<div class="row">
	      		<div class="col-9">
	      			<div>Actualziando cantidad de vistas en los gifs, esto puede tomar varios segundos</div>
	      		</div>
	      		<div class="col-3 text-center">
	      			<img src="images/refresh.gif" width="50px" height="50px">
	      		</div>
	      	</div>
	      </div>
	    </div>
	  </div>
	</div>
  </body>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js" integrity="sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em" crossorigin="anonymous"></script>
  <script type="text/javascript">
  	function refrescar(){
  		console.log("hola")
  		$("#exampleModal").modal("show")
  		window.location.href="/refrescar"
  	}
  </script>
</html>
